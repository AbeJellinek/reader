
.expandable-editor {
  pointer-events: none;

  .selected & {
    pointer-events: all;
  }

  .outer {
    max-height: calc(
      3 * #{$note-font-size} * #{$note-line-height} + #{nem(4)} + #{nem(4)}
    );
    overflow-y: hidden;

    &.expanded {
      max-height: none;
      overflow-y: visible;
    }

    @include state(".expandable-editor.overflowed") {
      mask-image:
        linear-gradient(to right, black 0%, black 67%, transparent 100%),
        linear-gradient(to bottom, black, black);
      mask-repeat: no-repeat;
      mask-position: left top;
      mask-size:
        100% calc(100% - #{nem(4)}),
        100% calc(2 * (#{$note-font-size} * #{$note-line-height}) + #{nem(4)};
    }
  }
}
